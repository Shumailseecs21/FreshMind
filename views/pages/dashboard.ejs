<%- include('../includes/head.ejs') %>
<link rel="stylesheet" type="text/css" href="/css/dashboard.css">
</head>
<body>
<%- include('../includes/navigation.ejs') %>

<div class="dashboard">
    <h1>Welcome, <%= user.username %>!</h1>
    <p>Email: <%= user.email %></p>
    <p>Role: <%= user.role %></p>

    <% if (user.role === 'Doctor') { %>
        <div class="doctor-details">
            <h2>Your Sessions</h2>
            <% user.docSessions.forEach(session => { %>
                <div class="card">
                    <p>Session Name: <%= session.name %></p>
                    <p>Shift: <%= session.shift %></p>
                    <!-- Add more details as needed -->
                    <button class="delete-button button">Delete</button>
                </div>
            <% }); %>
<!--            <a href="/doctor/sessions" class="button">Manage Sessions</a>-->
        </div>
        <div class="doctor-details">
            <h2>Your Certifications</h2>
            <div class="card">
                <p>Certification Name: <%= user.certifications.name %></p>
                <!-- Add more details as needed -->
                <!--<button class="delete-button button">Delete</button>-->
            </div>
<!--            <a href="/doctor/certifications" class="button">Manage Certifications</a>-->
        </div>

    <% } else if (user.role === 'Member') { %>
        <div class="member-details">
            <h2>Your Sessions</h2>
            <div>
                <% sessions.forEach(session => { %>
                    <p>Session Name: <%= session.name %></p>
                    <p>Shift: <%= session.shift %></p>
                    <!-- Add more details as needed -->
                    <!--<button class="delete-button button">Delete</button>-->
                <% }); %>
            </div>
<!--            <a href="/member/book_session" class="button">Book a Session</a>-->
        </div>
        <div class="member-details">
            <h2>Your Enrolled Courses</h2>
            <div>
                <% user.courses.forEach(course => { %>
                    <p>Course Name: <%= course.name %></p>
                    <!-- Add more details as needed -->
                <!--<button class="delete-button button">Delete</button>-->
                <% }); %>
            </div>
<!--            <a href="/member/courses" class="button">View Courses</a>-->
        </div>


    <% } else if (user.role === 'Admin') { %>
        <div class="admin-details">
            <h2>All Doctors</h2>
            <% allDoctors.forEach(doctor => { %>

                <div class="card">
                    <p>Doctor Name: <%= doctor.username %></p>
                    <p>Email: <%= doctor.email %></p>
                    <!-- Add more details as needed -->
                    <!--<button class="delete-button button">Delete</button>-->
                </div>
            <% }); %>
<!--            <a href="/admin/members" class="button">Manage Doctors</a>-->
        </div>
        <div class="admin-details">
            <h2>All Members</h2>
            <% allMembers.forEach(member => { %>
                <div class="card">
                    <p>Member Name: <%= member.username %></p>
                    <p>Email: <%= member.email %></p>
                    <!-- Add more details as needed -->
                    <!--<button class="delete-button button">Delete</button>-->
                </div>
            <% }); %>
<!--            <a href="/admin/members" class="button">Manage Members</a>  -->
        </div>

        <div class="admin-details">
            <h2>All Courses</h2>
            <div>
                <% allCourses.forEach(course => { %>
                    <p>Course Name: <%= course.name %></p>
                    <!-- Add more details as needed -->
                <!--<button class="delete-button button">Delete</button>-->
                <% }); %>
            </div>
<!--            <a href="/admin/courses" class="button">Manage Courses</a>-->
        </div>
        <div class="admin-details">
            <h2>All Sessions</h2>
            <div>
                <% allSessions.forEach(session => { %>
                    <p>Session Name: <%= session.name %></p>
                    <p>Shift: <%= session.shift %></p>
                    <!-- Add more details as needed -->
                <!--<button class="delete-button button">Delete</button>-->
                <% }); %>
            </div>
<!--            <a href="/admin/sessions" class="button">Manage Sessions</a>-->
        </div>
        <div class="admin-details">
            <h2>All Certifications</h2>
            <div>
                <% users.forEach(userE => { %>
                <% if(userE.certifications){ %>
                    <p>Certificate Name: <%= userE.certifications.name %></p>
                    <div id="pdfContainer">
                        <iframe id="pdfViewer" src="<%= userE.certifications.path %>" width="50%" height="300px"></iframe>
                    <!-- Add more details as needed -->
                <!--<button class="delete-button button">Delete</button>-->
                <% } %>
                <% }); %>
            </div>
<!--            <a href="/admin/sessions" class="button">Manage Sessions</a>-->
        </div>
    <% } %>
</div>

<%- include('../includes/footer.ejs') %>
<%- include('../includes/end.ejs') %>
</body>
</html>
